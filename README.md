# ComfyUI Music Player Node

内嵌式音乐播放器节点 - 在节点内直接播放音频和显示歌词

## ✨ 功能特性

- 🎵 **节点内播放器**：播放器直接嵌入在节点中
- � **音频可视化器**：实时频谱柱状图显示
- � ***歌词显示**：支持 LRC/SRT 格式歌词，实时滚动高亮
- 📁 **文件管理**：一键上传歌词文件，类似官方图像加载节点
- ⚡ **自动播放**：可配置是否自动播放



https://github.com/user-attachments/assets/227c7c88-3ea1-4ca2-99bc-031e1b2c55fd




## 📦 节点说明

### 🎵 Music Player
主播放器节点，接收音频和可选的歌词输入
- **输入**：AUDIO（必需）、lyrics（可选）
- **功能**：播放控制、音量调节、可视化/歌词切换

### 📝 Lyrics Input  
歌词文本输入节点
- **输入**：多行文本框
- **输出**：STRING 类型歌词数据
- **支持**：LRC、SRT 格式

### 📂 Load Lyrics File
从文件加载歌词
- **功能**：选择 input 目录中的歌词文件
- **特色**：📁 一键上传按钮 + 🔄 刷新列表
- **支持**：.lrc、.srt、.txt 格式，多种编码

### 💾 Save Lyrics File
保存歌词到文件
- **输入**：歌词文本（必需连接其他节点）
- **输出**：保存到 output 目录
- **选项**：文件格式、编码格式

## 🚀 基本用法

### 简单播放
```
LoadAudio → 🎵 Music Player
```

### 带歌词播放
```
LoadAudio → 🎵 Music Player
📝 Lyrics Input ↗
```

### 文件歌词播放
```
LoadAudio → 🎵 Music Player
📂 Load Lyrics File ↗
```

### 歌词文件管理
```
📂 Load Lyrics File → 📝 Lyrics Input → 💾 Save Lyrics File
                                    ↓
                              🎵 Music Player
```

## 📝 歌词格式

### LRC 格式（推荐）
```lrc
[00:12.00]第一句歌词
[00:17.20]第二句歌词
[00:21.10]第三句歌词
```

### SRT 格式
```srt
1
00:00:12,000 --> 00:00:15,500
第一句歌词

2
00:00:15,500 --> 00:00:18,200
第二句歌词
```

## 📁 文件上传功能

**Load Lyrics File** 节点提供便捷的文件管理：

1. **📁 选择歌词文件**：点击按钮直接上传本地文件到 input 目录
2. **🔄 刷新文件列表**：更新可用文件列表
3. **自动选择**：上传后自动选中新文件

## 🎛️ 播放器控制

- **播放/暂停**：点击播放按钮
- **进度控制**：拖动进度条
- **音量调节**：拖动音量滑块
- **🎨 可视化**：显示频谱柱状图
- **📝 歌词**：显示歌词并实时高亮

## 📦 安装

1. 将插件放到 `ComfyUI/custom_nodes/` 目录
2. 重启 ComfyUI
3. 在 `audio` 分类中找到相关节点

## 🔧 文件目录

- **歌词加载**：从 `ComfyUI/input/` 目录
- **歌词保存**：到 `ComfyUI/output/` 目录

---


**简单易用的音频播放和歌词管理解决方案！** 🎵

